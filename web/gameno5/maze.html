<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=120, height=160, user-scalable=no">
  <title>Bunker Maze</title>
</head>

<body style="
  background:#111;
  color:#0f0;
  font-family:Courier, monospace;
  font-size:10px;
  margin:1px;
  padding:0;
  width:120px;
  height:160px;
  overflow:hidden;
">

<style>
.dpad {
  width:20px;
  height:20px;
  font-size:12px;
  font-family:Arial, sans-serif;
  font-weight:bold;
  margin:1px;
  padding:0;
  border:1px solid #0f0;
}
</style>

<h3 style="margin:0;font-size:10px;padding:0;">BUNKER MAZE</h3>
<p style="margin:0;font-size:9px;padding:0;">
Escape!
</p>

<pre id="maze"
style="
  font-family:Courier, monospace;
  font-size:9px;
  line-height:9px;
  letter-spacing:0;
  margin:1px 0;
  padding:0;
">
</pre>

<!-- CONTROLS -->
<div style="text-align:center; margin:1px 0; padding:0;">

  <div style="margin:0;">
    <button onclick="move(0,-1)" class="dpad">^</button>
  </div>

  <div style="margin:0;">
    <button onclick="move(-1,0)" class="dpad">&lt;</button>
    <button onclick="move(1,0)" class="dpad">&gt;</button>
  </div>

  <div style="margin:0;">
    <button onclick="move(0,1)" class="dpad">v</button>
  </div>

</div>


<p id="msg" style="font-size:8px;margin:1px 0;padding:0;height:10px;"></p>

<script>
// MAZE MAP (8x6 for tight Nokia screen)
var map = [
  "██████████",
  "█        █",
  "█ █████ ██",
  "█ █   █  █",
  "█ █ ████ █",
  "█   █    █",
  "███ █ ████",
  "█       E█",
  "██████████"
];

var px = 1;
var py = 1;

function draw() {
  var out = "";
  for (var y = 0; y < map.length; y++) {
    for (var x = 0; x < map[y].length; x++) {
      if (x === px && y === py) out += "@";
      else out += map[y][x];
    }
    out += "\n";
  }
  document.getElementById("maze").textContent = out;
}

function move(dx, dy) {
  var nx = px + dx;
  var ny = py + dy;

  var tile = map[ny].charAt(nx);

  if (tile === "█") {
    document.getElementById("msg").textContent =
      "Wall blocks the way.";
    return;
  }

  px = nx;
  py = ny;

  if (tile === "E") {
    document.getElementById("msg").textContent =
      "MISSION COMPLETE.";
  } else {
    document.getElementById("msg").textContent = "";
  }

  draw();
}

draw();
</script>

<p style="font-size:9px;margin:1px 0;padding:0;">
<button onclick="window.location.href='../../index.html'" style="padding:1px;font-size:8px;">
◀ Exit
</button>
</p>

</body>
</html>
